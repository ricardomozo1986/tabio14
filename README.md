Versión final corregida sin errores de indentación para despliegue en Streamlit.